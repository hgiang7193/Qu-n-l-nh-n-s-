@model HRManagementSystem.Web.Models.Attendance

@{
    ViewData["Title"] = "Chấm công";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="mb-6">
        <h1 class="text-3xl font-bold text-gray-900">Chấm công</h1>
        <p class="mt-2 text-gray-600">Bấm nút để chấm công vào/ra</p>
    </div>

    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
        <div class="space-y-4">
            <div class="text-center py-8">
                <p class="text-lg text-gray-600 mb-8">Giờ hiện tại: <span class="text-2xl font-bold text-blue-600" id="currentTime">00:00:00</span></p>
                
                <form method="post" asp-action="CheckIn" class="mb-4">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold text-lg rounded-lg hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl">
                        <i class="fas fa-sign-in-alt mr-2"></i> Chấm công vào
                    </button>
                </form>
                
                <form method="post" asp-action="CheckOut">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-lg rounded-lg hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl">
                        <i class="fas fa-sign-out-alt mr-2"></i> Chấm công ra
                    </button>
                </form>
            </div>
            
            <a asp-action="Index" class="block text-center px-6 py-2.5 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-medium rounded-lg hover:from-gray-600 hover:to-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg">
                <i class="fas fa-arrow-left mr-2"></i> Quay lại
            </a>
        </div>
    </div>
</div>

<script>
function updateCurrentTime() {
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');
    document.getElementById('currentTime').textContent = hours + ':' + minutes + ':' + seconds;
}

// Update time immediately and then every second
updateCurrentTime();
setInterval(updateCurrentTime, 1000);
</script>